<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contact Asiya's Flowers - Get in touch for custom arrangements, wedding consultations, and floral inquiries.">
    <title>Contact | Asiya's Flowers</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav class="nav-container">
            <a href="index.html" class="logo">Asiya's <span>Flowers</span></a>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="contact.html" class="active">Contact</a></li>
            </ul>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main>
        <div class="page-header">
            <h1>Contact Us</h1>
            <p>Let's talk flowers</p>
        </div>

        <section class="contact-form-section">
            <div class="contact-form-wrapper">
                <h2 class="section-title">Send Us a Message</h2>
                <p class="contact-form-subtitle">Fill out the form below and we'll get back to you as soon as possible.</p>

                <form id="contact-form" action="#" method="POST" class="contact-form-centered" novalidate>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Your Name <span class="required">*</span></label>
                            <input type="text" id="name" name="name" required placeholder="Jane Smith">
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required placeholder="jane@example.com">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567">
                        </div>
                        <div class="form-group">
                            <label for="service">Service Interest</label>
                            <select id="service" name="service">
                                <option value="">Select a service...</option>
                                <option value="wedding">Wedding Florals</option>
                                <option value="gift">Gift Bouquet</option>
                                <option value="event">Event Styling</option>
                                <option value="subscription">Flower Subscription</option>
                                <option value="custom">Custom Arrangement</option>
                                <option value="sympathy">Sympathy Flowers</option>
                                <option value="corporate">Corporate Flowers</option>
                                <option value="workshop">Workshop/Class</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="date">Event/Delivery Date</label>
                            <input type="date" id="date" name="date">
                        </div>
                        <div class="form-group">
                            <label for="budget">Estimated Budget</label>
                            <select id="budget" name="budget">
                                <option value="">Select a range...</option>
                                <option value="under-50">Under $50</option>
                                <option value="50-100">$50 – $100</option>
                                <option value="100-250">$100 – $250</option>
                                <option value="250-500">$250 – $500</option>
                                <option value="500-1000">$500 – $1,000</option>
                                <option value="1000-plus">$1,000+</option>
                                <option value="not-sure">Not sure yet</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group form-group-full">
                        <label for="message">Your Message <span class="required">*</span></label>
                        <textarea id="message" name="message" required></textarea>
                    </div>

                    <div class="form-group form-group-full">
                        <label class="checkbox-label">
                            <input type="checkbox" id="newsletter" name="newsletter" value="yes">
                            <span>Sign me up for occasional updates</span>
                        </label>
                    </div>

                    <div class="form-submit">
                        <button type="submit" class="btn btn-primary btn-large">Send Message</button>
                    </div>

                </form>

                <!-- Step 7: Success Message -->
                <div id="success-message" style="display: none;">
                    <h3>Thank you for your message!</h3>
                    <p>We'll get back to you within 1–2 business days.</p>
                </div>

            </div>
        </section>
    </main>

    <script>
        function toggleMenu() {
            document.querySelector('.nav-menu').classList.toggle('active');
        }
    </script>

    <!-- Step 5 Validation + Rendering -->
    <script>
        function validateForm(formData) {
            var errors = {};

            if (!formData.name) {
                errors.name = 'Name is required.';
            }

            if (!formData.email) {
                errors.email = 'Email is required.';
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
                errors.email = 'Please enter a valid email address.';
            }

            if (!formData.message) {
                errors.message = 'Message is required.';
            }

            return errors;
        }

        function showErrors(errors) {
            document.querySelectorAll('.error-message').forEach(function(el) {
                el.remove();
            });

            Object.keys(errors).forEach(function(field) {
                var input = document.getElementById(field);
                if (!input) return;

                var span = document.createElement('span');
                span.className = 'error-message';
                span.textContent = errors[field];

                input.insertAdjacentElement('afterend', span);
            });
        }

        function applyFieldStates(errors) {
            var requiredFields = ['name', 'email', 'message'];

            requiredFields.forEach(function (field) {
                var input = document.getElementById(field);
                if (!input) return;

                if (errors[field]) {
                    input.classList.remove('field-success');
                    input.classList.add('field-error');
                } else {
                    input.classList.remove('field-error');
                    input.classList.add('field-success');
                }
            });
        }

        // Step 7: Show success message
        function showSuccess() {
            var form = document.getElementById('contact-form');
            var successMessage = document.getElementById('success-message');
            if (!form || !successMessage) return;

            form.style.display = 'none';
            successMessage.style.display = 'block';
        }

        document.addEventListener('DOMContentLoaded', function () {
            var form = document.getElementById('contact-form');
            if (!form) return;

            form.addEventListener('submit', function(event) {
                event.preventDefault();

                var nameEl       = document.getElementById('name');
                var emailEl      = document.getElementById('email');
                var phoneEl      = document.getElementById('phone');
                var serviceEl    = document.getElementById('service');
                var dateEl       = document.getElementById('date');
                var budgetEl     = document.getElementById('budget');
                var messageEl    = document.getElementById('message');
                var newsletterEl = document.getElementById('newsletter');

                const formData = {
                    name:       nameEl.value.trim(),
                    email:      emailEl.value.trim(),
                    phone:      phoneEl.value.trim(),
                    service:    serviceEl.value,
                    date:       dateEl.value,
                    budget:     budgetEl.value,
                    message:    messageEl.value.trim(),
                    newsletter: newsletterEl.checked
                };

                console.log('Form data:', formData);

                const errors = validateForm(formData);
                console.log('Validation errors:', errors);

                showErrors(errors);
                applyFieldStates(errors);  // visual field feedback

                if (Object.keys(errors).length === 0) {
                    showSuccess(); // Step 7: show success message on valid submission
                }
            });
        });
    </script>
</body>
</html>